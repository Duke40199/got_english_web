{"version":3,"sources":["views/charts/ChartBarSimple.js","views/widgets/WidgetsDropdown.js"],"names":["ChartBarSimple","props","backgroundColor","pointHoverBackgroundColor","dataPoints","label","attributes","pointed","defaultDatasets","data","getColor","barPercentage","categoryPercentage","defaultOptions","maintainAspectRatio","legend","display","scales","xAxes","yAxes","datasets","options","labels","defaultProps","WidgetsDropdown","useState","todayNewExpert","setTodayNewExpert","lastWeekNewExpert","setLastWeekNewExpert","todayNewLearner","setTodayNewLearner","lastWeekNewLearner","setLastWeekNewLearner","todayCompletedService","setTodayCompletedService","lastWeekCompletedService","setLastWeekCompletedService","todayInvoice","setTodayInvoice","lastWeekInvoice","setLastWeekInvoice","useEffect","a","GetDailySummaryAPI","dailySummary","new_expert_weekly_count","new_learner_weekly_count","new_messaging_session_weekly_count","new_live_call_session_weekly_count","new_translation_session_weekly_count","new_invoice_weekly_count","push","fetchData","sm","lg","color","header","toString","text","footerSlot","className","style","height"],"mappings":"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","file":"static/js/60.5a0326cc.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { getColor } from '@coreui/utils'\r\nimport { CChartBar } from '@coreui/react-chartjs'\r\n\r\nconst ChartBarSimple = props => {\r\n\r\n  const {\r\n    backgroundColor,\r\n    pointHoverBackgroundColor,\r\n    dataPoints,\r\n    label,\r\n    pointed,\r\n    ...attributes\r\n  } = props\r\n\r\n  const defaultDatasets = (()=>{\r\n    return [\r\n      {\r\n        data: dataPoints,\r\n        backgroundColor: getColor(backgroundColor),\r\n        pointHoverBackgroundColor: getColor(pointHoverBackgroundColor),\r\n        // label: label,\r\n        barPercentage: 0.5,\r\n        categoryPercentage: 1\r\n      }\r\n    ]\r\n  })()\r\n\r\n  const defaultOptions = (()=>{\r\n    return {\r\n      maintainAspectRatio: false,\r\n      legend: {\r\n        display: false\r\n      },\r\n      scales: {\r\n        xAxes: [{\r\n          display: false\r\n        }],\r\n        yAxes: [{\r\n          display: false\r\n        }]\r\n      }\r\n    }\r\n  })()\r\n\r\n  // render\r\n  return (\r\n    <CChartBar\r\n      {...attributes}\r\n      datasets={defaultDatasets}\r\n      options={defaultOptions}\r\n      labels={label}\r\n    />\r\n  )\r\n}\r\n\r\nChartBarSimple.propTypes = {\r\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\r\n  className: PropTypes.string,\r\n  //\r\n  backgroundColor: PropTypes.string,\r\n  pointHoverBackgroundColor: PropTypes.string,\r\n  dataPoints: PropTypes.array,\r\n  label: PropTypes.array,\r\n  pointed: PropTypes.bool\r\n};\r\n\r\nChartBarSimple.defaultProps = {\r\n  backgroundColor: 'rgba(0,0,0,.2)',\r\n  dataPoints: [10, 22, 34, 46, 58, 70, 46, 23, 45, 78, 34, 12],\r\n  label: ['Sales']\r\n};\r\n\r\nexport default ChartBarSimple\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  CWidgetDropdown,\r\n  CRow,\r\n  CCol,\r\n} from '@coreui/react'\r\nimport ChartBarSimple from '../charts/ChartBarSimple'\r\n\r\nimport { GetDailySummaryAPI } from '../../api/summary';\r\n\r\nconst WidgetsDropdown = () => {\r\n  const [todayNewExpert, setTodayNewExpert] = useState(null);\r\n  const [lastWeekNewExpert, setLastWeekNewExpert] = useState(null);\r\n  const [todayNewLearner, setTodayNewLearner] = useState(null);\r\n  const [lastWeekNewLearner, setLastWeekNewLearner] = useState(null);\r\n  const [todayCompletedService, setTodayCompletedService] = useState(null);\r\n  const [lastWeekCompletedService, setLastWeekCompletedService] = useState(null);\r\n  const [todayInvoice, setTodayInvoice] = useState(null);\r\n  const [lastWeekInvoice, setLastWeekInvoice] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const dailySummary = await GetDailySummaryAPI();\r\n      let lastWeekNewExpert = [];\r\n      let lastWeekNewLearner = [];\r\n      let lastWeekCompletedService = [];\r\n      let lastWeekInvoice = [];\r\n      if (dailySummary != null) {\r\n        //today report\r\n        setTodayNewExpert(dailySummary.new_expert_weekly_count[\"0_day_ago\"]);\r\n        setTodayNewLearner(dailySummary.new_learner_weekly_count[\"0_day_ago\"]);\r\n        setTodayCompletedService(dailySummary.new_messaging_session_weekly_count[\"0_day_ago\"] + dailySummary.new_live_call_session_weekly_count[\"0_day_ago\"] + dailySummary.new_translation_session_weekly_count[\"0_day_ago\"]);\r\n        setTodayInvoice(dailySummary.new_invoice_weekly_count[\"0_day_ago\"]);\r\n        //last week report\r\n        //new expert\r\n        lastWeekNewExpert.push(dailySummary.new_expert_weekly_count[\"7_day_ago\"]);\r\n        lastWeekNewExpert.push(dailySummary.new_expert_weekly_count[\"6_day_ago\"]);\r\n        lastWeekNewExpert.push(dailySummary.new_expert_weekly_count[\"5_day_ago\"]);\r\n        lastWeekNewExpert.push(dailySummary.new_expert_weekly_count[\"4_day_ago\"]);\r\n        lastWeekNewExpert.push(dailySummary.new_expert_weekly_count[\"3_day_ago\"]);\r\n        lastWeekNewExpert.push(dailySummary.new_expert_weekly_count[\"2_day_ago\"]);\r\n        lastWeekNewExpert.push(dailySummary.new_expert_weekly_count[\"1_day_ago\"]);\r\n        //new learner\r\n        lastWeekNewLearner.push(dailySummary.new_learner_weekly_count[\"7_day_ago\"]);\r\n        lastWeekNewLearner.push(dailySummary.new_learner_weekly_count[\"6_day_ago\"]);\r\n        lastWeekNewLearner.push(dailySummary.new_learner_weekly_count[\"5_day_ago\"]);\r\n        lastWeekNewLearner.push(dailySummary.new_learner_weekly_count[\"4_day_ago\"]);\r\n        lastWeekNewLearner.push(dailySummary.new_learner_weekly_count[\"3_day_ago\"]);\r\n        lastWeekNewLearner.push(dailySummary.new_learner_weekly_count[\"2_day_ago\"]);\r\n        lastWeekNewLearner.push(dailySummary.new_learner_weekly_count[\"1_day_ago\"]);\r\n        //new completed service\r\n        lastWeekCompletedService.push(dailySummary.new_messaging_session_weekly_count[\"7_day_ago\"] + dailySummary.new_live_call_session_weekly_count[\"7_day_ago\"] + dailySummary.new_translation_session_weekly_count[\"7_day_ago\"]);\r\n        lastWeekCompletedService.push(dailySummary.new_messaging_session_weekly_count[\"6_day_ago\"] + dailySummary.new_live_call_session_weekly_count[\"6_day_ago\"] + dailySummary.new_translation_session_weekly_count[\"6_day_ago\"]);\r\n        lastWeekCompletedService.push(dailySummary.new_messaging_session_weekly_count[\"5_day_ago\"] + dailySummary.new_live_call_session_weekly_count[\"5_day_ago\"] + dailySummary.new_translation_session_weekly_count[\"5_day_ago\"]);\r\n        lastWeekCompletedService.push(dailySummary.new_messaging_session_weekly_count[\"4_day_ago\"] + dailySummary.new_live_call_session_weekly_count[\"4_day_ago\"] + dailySummary.new_translation_session_weekly_count[\"4_day_ago\"]);\r\n        lastWeekCompletedService.push(dailySummary.new_messaging_session_weekly_count[\"3_day_ago\"] + dailySummary.new_live_call_session_weekly_count[\"3_day_ago\"] + dailySummary.new_translation_session_weekly_count[\"3_day_ago\"]);\r\n        lastWeekCompletedService.push(dailySummary.new_messaging_session_weekly_count[\"2_day_ago\"] + dailySummary.new_live_call_session_weekly_count[\"2_day_ago\"] + dailySummary.new_translation_session_weekly_count[\"2_day_ago\"]);\r\n        lastWeekCompletedService.push(dailySummary.new_messaging_session_weekly_count[\"1_day_ago\"] + dailySummary.new_live_call_session_weekly_count[\"1_day_ago\"] + dailySummary.new_translation_session_weekly_count[\"1_day_ago\"]);\r\n        //new invoice\r\n        lastWeekInvoice.push(dailySummary.new_invoice_weekly_count[\"7_day_ago\"]);\r\n        lastWeekInvoice.push(dailySummary.new_invoice_weekly_count[\"6_day_ago\"]);\r\n        lastWeekInvoice.push(dailySummary.new_invoice_weekly_count[\"5_day_ago\"]);\r\n        lastWeekInvoice.push(dailySummary.new_invoice_weekly_count[\"4_day_ago\"]);\r\n        lastWeekInvoice.push(dailySummary.new_invoice_weekly_count[\"3_day_ago\"]);\r\n        lastWeekInvoice.push(dailySummary.new_invoice_weekly_count[\"2_day_ago\"]);\r\n        lastWeekInvoice.push(dailySummary.new_invoice_weekly_count[\"1_day_ago\"]);\r\n        //set state\r\n        setLastWeekNewExpert(lastWeekNewExpert);\r\n        setLastWeekNewLearner(lastWeekNewLearner);\r\n        setLastWeekCompletedService(lastWeekCompletedService);\r\n        setLastWeekInvoice(lastWeekInvoice);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  // render\r\n  return (\r\n    <CRow>\r\n      <CCol sm=\"6\" lg=\"3\">\r\n        <CWidgetDropdown\r\n          color=\"gradient-primary\"\r\n          header={todayNewExpert != null ? todayNewExpert.toString() : \"...\"}\r\n          text=\"Chuyên Gia mới trong ngày hôm nay\"\r\n          footerSlot={\r\n            <ChartBarSimple\r\n              pointed\r\n              className=\"mt-3 mx-3\"\r\n              style={{ height: '70px' }}\r\n              dataPoints={lastWeekNewExpert}\r\n              backgroundColor=\"rgba(255,255,255,.5)\"\r\n              label={[\"7 ngày trước\", \"6 ngày trước\", \"5 ngày trước\", \"4 ngày trước\", \"3 ngày trước\", \"2 ngày trước\", \"Hôm qua\"]}\r\n            />\r\n          }\r\n        >\r\n        </CWidgetDropdown>\r\n      </CCol>\r\n\r\n      <CCol sm=\"6\" lg=\"3\">\r\n        <CWidgetDropdown\r\n          color=\"gradient-info\"\r\n          header={todayNewLearner != null ? todayNewLearner.toString() : \"...\"}\r\n          text=\"Học Viên mới trong ngày hôm nay\"\r\n          footerSlot={\r\n            <ChartBarSimple\r\n              pointed\r\n              className=\"mt-3 mx-3\"\r\n              style={{ height: '70px' }}\r\n              backgroundColor=\"rgba(255,255,255,.5)\"\r\n              dataPoints={lastWeekNewLearner}\r\n              label={[\"7 ngày trước\", \"6 ngày trước\", \"5 ngày trước\", \"4 ngày trước\", \"3 ngày trước\", \"2 ngày trước\", \"Hôm qua\"]}\r\n            />\r\n          }\r\n        >\r\n        </CWidgetDropdown>\r\n      </CCol>\r\n\r\n      <CCol sm=\"6\" lg=\"3\">\r\n        <CWidgetDropdown\r\n          color=\"gradient-warning\"\r\n          header={todayCompletedService != null ? todayCompletedService.toString() : \"...\"}\r\n          text=\"Phiên Dịch Vụ đã hoàn thành trong ngày hôm nay\"\r\n          footerSlot={\r\n            <ChartBarSimple\r\n              pointed\r\n              className=\"mt-3 mx-3\"\r\n              style={{ height: '70px' }}\r\n              backgroundColor=\"rgba(255,255,255,.5)\"\r\n              dataPoints={lastWeekCompletedService}\r\n              label={[\"7 ngày trước\", \"6 ngày trước\", \"5 ngày trước\", \"4 ngày trước\", \"3 ngày trước\", \"2 ngày trước\", \"Hôm qua\"]}\r\n            />\r\n          }\r\n        >\r\n        </CWidgetDropdown>\r\n      </CCol>\r\n\r\n      <CCol sm=\"6\" lg=\"3\">\r\n        <CWidgetDropdown\r\n          color=\"gradient-danger\"\r\n          header={todayInvoice != null ? todayInvoice.toString() : \"...\"}\r\n          text=\"Gói Coin đã được bán trong ngày hôm nay\"\r\n          footerSlot={\r\n            <ChartBarSimple\r\n              className=\"mt-3 mx-3\"\r\n              style={{ height: '70px' }}\r\n              dataPoints={lastWeekInvoice}\r\n              backgroundColor=\"rgba(255,255,255,.5)\"\r\n              label={[\"7 ngày trước\", \"6 ngày trước\", \"5 ngày trước\", \"4 ngày trước\", \"3 ngày trước\", \"2 ngày trước\", \"Hôm qua\"]}\r\n            />\r\n          }\r\n        >\r\n        </CWidgetDropdown>\r\n      </CCol>\r\n    </CRow>\r\n  )\r\n}\r\n\r\nexport default WidgetsDropdown\r\n"],"sourceRoot":""}