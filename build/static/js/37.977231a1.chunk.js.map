{"version":3,"sources":["api/rating.js","views/pages/manage-expert/view-expert-feedback/ViewExpertFeedback.js","api/APIKit.js","reusable/DefineErrorLog.js","api/user.js"],"names":["GetRatingListByExpertIdAPI","expertId","a","token","JSON","parse","localStorage","getItem","ratingList","onSuccess","data","onFailure","error","console","log","apiConfig","headers","APIKit","get","then","catch","fields","key","label","ViewExpertFeedback","URLSearchParams","useLocation","search","useState","selectedExpertRatingList","setSelectedExpertRatingList","selectedExpertInfo","setSelectedExpertInfo","promiseInProgress","usePromiseTracker","useEffect","trackPromise","GetExpertInfoByIdAPI","expertInfo","expertRatingList","className","account","username","items","hover","striped","bordered","size","itemsPerPage","pagination","loading","noItemsView","noResults","noItems","scopedSlots","item","learner","hasOwnProperty","value","score","activeColor","edit","format","parseISO","updated_at","axios","create","baseURL","timeout","DefineErrorLog","errorResponse","definedErrorLog","response","errorLogMessage","includes","GetUserInfoAPI","role","userInfo","GetAdminInfoListAPI","adminInfoList","GetModeratorInfoListAPI","moderatorInfoList","GetLearnerInfoListAPI","learnerInfoList","GetExpertInfoListAPI","UpdateUserInfoByUserIdAPI","userID","updateInfoJson","updateResult","success","put","CreateUserAPI","userInfoJson","createData","post","UpdateModeratorPermissionByIdAPI","moderatorId","UpdateAdminPermissionByIdAPI","adminId","UpdateExpertPermissionByIdAPI","SuspendUserByIdAPI","userId","suspendResult","UnsuspendUserByIdAPI","unsuspendResult"],"mappings":"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","file":"static/js/37.977231a1.chunk.js","sourcesContent":["import APIKit from './APIKit';\r\n\r\nexport const GetRatingListByExpertIdAPI = async (expertId) => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let ratingList = null;\r\n    const onSuccess = data => {\r\n        ratingList = data.data.data;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        console.log(error);\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: {\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    }\r\n\r\n    await APIKit.get('/ratings?expert_id=' + expertId, apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return ratingList;\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { useLocation } from \"react-router-dom\"\r\n\r\nimport ReactStars from 'react-rating-stars-component'\r\n\r\nimport { GetRatingListByExpertIdAPI } from '../../../../api/rating'\r\nimport { GetExpertInfoByIdAPI } from '../../../../api/user'\r\n\r\nimport { format, parseISO } from 'date-fns'\r\n\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\n\r\nimport {\r\n    CCard,\r\n    CCardBody,\r\n    CCardHeader,\r\n    CCol,\r\n    CDataTable,\r\n    CRow,\r\n    CAlert\r\n} from '@coreui/react'\r\n\r\nconst fields = [\r\n    { key: 'learner_username', label: 'Tên tài khoản Học Viên' },\r\n    { key: 'used_service', label: 'Dịch vụ Đánh Giá' },\r\n    { key: 'score', label: 'Đánh Giá của Học Viên' },\r\n    { key: 'comment', label: 'Nội dung Đánh Giá' },\r\n    { key: 'updated_at', label: 'Thời Gian gửi Đánh Giá' }]\r\n\r\nconst ViewExpertFeedback = () => {\r\n    const useQuery = () => {\r\n        return new URLSearchParams(useLocation().search);\r\n    }\r\n    const query = useQuery();\r\n    const expertId = query.get(\"expertId\");\r\n\r\n    const [selectedExpertRatingList, setSelectedExpertRatingList] = useState(null);\r\n    const [selectedExpertInfo, setSelectedExpertInfo] = useState(null);\r\n\r\n    const { promiseInProgress } = usePromiseTracker();\r\n\r\n    useEffect(async () => {\r\n        const expertInfo = await trackPromise(GetExpertInfoByIdAPI(expertId));\r\n        if (expertInfo != null) {\r\n            const expertRatingList = await trackPromise(GetRatingListByExpertIdAPI(expertId));\r\n            setSelectedExpertRatingList(expertRatingList);\r\n            setSelectedExpertInfo(expertInfo);\r\n        }\r\n    }, [expertId])\r\n\r\n    const GetUsedService = expertRatingList => {\r\n        if (expertRatingList.hasOwnProperty(\"messaging_session\")) {\r\n            return 'Phiên nhắn tin';\r\n        } else if (expertRatingList.hasOwnProperty(\"translation_session\")) {\r\n            return 'Phòng phiên dịch';\r\n        } else if (expertRatingList.hasOwnProperty(\"live_call_session\")) {\r\n            return 'Phiên gọi trực tuyến';\r\n        } else {\r\n            return 'Dịch vụ Không xác định';\r\n        }\r\n    }\r\n\r\n    return (\r\n        <CRow>\r\n            <CCol>\r\n                <CCard>\r\n                    <CCardHeader>\r\n                        <h3 className=\"mb-0\">Chi tiết Đánh Giá của Chuyên Gia ({selectedExpertInfo != null ? selectedExpertInfo.account.username : \"...\"})</h3>\r\n                    </CCardHeader>\r\n                    <CCardBody>\r\n                        <CDataTable\r\n                            items={selectedExpertRatingList}\r\n                            fields={fields}\r\n                            hover\r\n                            striped\r\n                            bordered\r\n                            size=\"sm\"\r\n                            itemsPerPage={10}\r\n                            pagination\r\n                            loading={promiseInProgress}\r\n                            noItemsView={{ noResults: 'Không có kết quả tìm kiếm trùng khớp', noItems: 'Không có dữ liệu' }}\r\n                            scopedSlots={\r\n                                {\r\n                                    'learner_username':\r\n                                        (item) => (\r\n                                            <td>\r\n                                                {item.learner.account.username}\r\n                                            </td>\r\n                                        ),\r\n                                    'used_service':\r\n                                        (item) => (\r\n                                            <td>\r\n                                                {GetUsedService(item)}\r\n                                            </td>\r\n                                        ),\r\n                                    'score':\r\n                                        (item) => (\r\n                                            <td>\r\n                                                <ReactStars\r\n                                                    value={item.score}\r\n                                                    size={24}\r\n                                                    activeColor=\"#FFD700\"\r\n                                                    edit={false}\r\n                                                />\r\n                                            </td>\r\n                                        ),\r\n                                    'updated_at':\r\n                                        (item) => (\r\n                                            <td>\r\n                                                {format(parseISO(item.updated_at), 'dd-MM-yyyy HH:mm:ss')}\r\n                                            </td>\r\n                                        ),\r\n                                }\r\n                            }\r\n                        />\r\n                    </CCardBody>\r\n                </CCard>\r\n            </CCol>\r\n        </CRow>\r\n    )\r\n}\r\n\r\nexport default ViewExpertFeedback","// import axios from 'axios';\r\n\r\n// let APIKit = axios.create({\r\n//     baseURL: process.env.BACKEND_URL,\r\n//     timeout: 10000\r\n// })\r\n\r\n// export default APIKit;\r\n\r\nimport axios from 'axios';\r\n\r\n// Create axios client, pre-configured with baseURL\r\nlet APIKit = axios.create({\r\n  baseURL: 'https://got-english-backend-production-swiyh5bc4q-de.a.run.app',\r\n  timeout: 10000,\r\n});\r\n\r\n// Set JSON Web Token in Client to be included in all calls\r\n// export const setClientToken = token => {\r\n//   APIKit.interceptors.request.use(function (config) {\r\n//     config.headers.Authorization = `Bearer ${token}`;\r\n//     return config;\r\n//   });\r\n// };\r\n\r\nexport default APIKit;","const DefineErrorLog = (errorResponse) => {\r\n    let definedErrorLog = \"\";\r\n    if (errorResponse != null) {\r\n        if (errorResponse.response != null) {\r\n            if (errorResponse.response.data != null) {\r\n                const errorLogMessage = errorResponse.response.data;\r\n                if (errorLogMessage.includes(\"Account is already suspended.\")) {\r\n                    definedErrorLog = \"Tài khoản này đã bị khóa!\";\r\n                } else if (errorLogMessage.includes(\"account unavailable\")) {\r\n                    definedErrorLog = \"Email đã được sử dụng!\";\r\n                } else if (errorLogMessage.includes(\"'username'\")) {\r\n                    definedErrorLog = \"Tên tài khoản đã được sử dụng!\";\r\n                } else if (errorLogMessage.includes(\"Account is currently in a messaging session\")) {\r\n                    definedErrorLog = \"Tài khoản này hiện đang sử dụng dịch vụ Phiên nhắn tin! Chưa thể khóa...\";\r\n                } else if (errorLogMessage.includes(\"Account is currently in a live call session\")) {\r\n                    definedErrorLog = \"Tài khoản này hiện đang sử dụng dịch vụ Phiên gọi trực tuyến! Chưa thể khóa...\";\r\n                } else if (errorLogMessage.includes(\"Account is currently in a translation session\")) {\r\n                    definedErrorLog = \"Tài khoản này hiện đang sử dụng dịch vụ Phòng phiên dịch! Chưa thể khóa...\";\r\n                } else if (errorLogMessage.includes(\"Account is not yet suspended.\")) {\r\n                    definedErrorLog = \"Tài khoản này đã được mở khóa!\";\r\n                } else if (errorLogMessage.includes(\"You don't have permission\")) {\r\n                    definedErrorLog = \"Tài khoản của bạn không có quyền để thực hiện thao tác này!\";\r\n                } else {\r\n                    definedErrorLog = \"Đã có lỗi xảy ra!\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return definedErrorLog;\r\n}\r\n\r\nexport default DefineErrorLog","import APIKit from './APIKit';\r\nimport DefineErrorLog from '../reusable/DefineErrorLog'\r\n\r\nexport const GetUserInfoAPI = async (username, role) => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let userInfo = null;\r\n    const onSuccess = data => {\r\n        //only first data\r\n        userInfo = data.data.data[0];\r\n    }\r\n\r\n    const onFailure = error => {\r\n        console.log(error);\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.get('/accounts?username=' + username + '&role=' + role, apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return userInfo;\r\n}\r\n\r\nexport const GetAdminInfoListAPI = async () => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let adminInfoList = null;\r\n    const onSuccess = data => {\r\n        adminInfoList = data.data.data;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        console.log(error);\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.get('/accounts?role=Admin', apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return adminInfoList;\r\n}\r\n\r\nexport const GetModeratorInfoListAPI = async () => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let moderatorInfoList = null;\r\n    const onSuccess = data => {\r\n        moderatorInfoList = data.data.data;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        console.log(error);\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.get('/accounts?role=Moderator', apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return moderatorInfoList;\r\n}\r\n\r\nexport const GetLearnerInfoListAPI = async () => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let learnerInfoList = null;\r\n    const onSuccess = data => {\r\n        learnerInfoList = data.data.data;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        console.log(error);\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.get('/accounts?role=Learner', apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return learnerInfoList;\r\n}\r\n\r\nexport const GetExpertInfoListAPI = async () => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let learnerInfoList = null;\r\n    const onSuccess = data => {\r\n        learnerInfoList = data.data.data;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        console.log(error);\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.get('/accounts?role=Expert', apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return learnerInfoList;\r\n}\r\n\r\nexport const GetExpertInfoByIdAPI = async (expertId) => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let expertInfo = null;\r\n    const onSuccess = data => {\r\n        expertInfo = data.data.data;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        console.log(error);\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.get('/experts?id=' + expertId, apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return expertInfo;\r\n}\r\n\r\nexport const UpdateUserInfoByUserIdAPI = async (userID, updateInfoJson) => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let updateResult = null;\r\n    const onSuccess = response => {\r\n        updateResult = response.data.success;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        updateResult = DefineErrorLog(error);\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.put('/accounts/' + userID + '/update', updateInfoJson, apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return updateResult;\r\n}\r\n\r\nexport const CreateUserAPI = async (userInfoJson) => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let createData = null;\r\n    const onSuccess = response => {\r\n        createData = response.data;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        createData = DefineErrorLog(error);\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.post('/accounts', userInfoJson, apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return createData;\r\n}\r\n\r\nexport const UpdateModeratorPermissionByIdAPI = async (moderatorId, updateInfoJson) => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let updateResult = null;\r\n    const onSuccess = response => {\r\n        console.log(response.data);\r\n        updateResult = response.data.success;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        console.log(error);\r\n        updateResult = false;\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.put('/moderators/' + moderatorId + '/update', updateInfoJson, apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return updateResult;\r\n}\r\n\r\nexport const UpdateAdminPermissionByIdAPI = async (adminId, updateInfoJson) => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let updateResult = null;\r\n    const onSuccess = response => {\r\n        console.log(response.data);\r\n        updateResult = response.data.success;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        console.log(error);\r\n        updateResult = false;\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.put('/admins/' + adminId + '/update', updateInfoJson, apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return updateResult;\r\n}\r\n\r\nexport const UpdateExpertPermissionByIdAPI = async (expertId, updateInfoJson) => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let updateResult = null;\r\n    const onSuccess = response => {\r\n        console.log(response.data);\r\n        updateResult = response.data.success;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        console.log(error);\r\n        updateResult = false;\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.put('/experts/' + expertId + '/update', updateInfoJson, apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return updateResult;\r\n}\r\n\r\nexport const SuspendUserByIdAPI = async (userId) => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let suspendResult = null;\r\n\r\n    const onSuccess = response => {\r\n        suspendResult = response.data.success;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        suspendResult = DefineErrorLog(error);\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.put('/accounts/' + userId + '/suspend', [], apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return suspendResult;\r\n}\r\n\r\nexport const UnsuspendUserByIdAPI = async (userId) => {\r\n    const token = (JSON.parse(localStorage.getItem(\"user\"))).token;\r\n    let unsuspendResult = null;\r\n\r\n    const onSuccess = response => {\r\n        unsuspendResult = response.data.success;\r\n    }\r\n\r\n    const onFailure = error => {\r\n        unsuspendResult = DefineErrorLog(error);\r\n    }\r\n\r\n    const apiConfig = {\r\n        headers: { \"Authorization\": `Bearer ${token}` }\r\n    }\r\n\r\n    await APIKit.put('/accounts/' + userId + '/unsuspend', [], apiConfig)\r\n        .then(onSuccess)\r\n        .catch(onFailure);\r\n\r\n    return unsuspendResult;\r\n}"],"sourceRoot":""}