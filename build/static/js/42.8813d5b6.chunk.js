(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[42],{642:function(e,t,n){"use strict";var a=n(650),c=n.n(a).a.create({baseURL:"https://got-english-backend-production-swiyh5bc4q-de.a.run.app",timeout:1e4});t.a=c},915:function(e,t,n){"use strict";n.r(t);var a=n(633),c=n.n(a),r=n(634),i=n(631),o=n(1),s=n(628),l=n(636),u=n(637),p=n(642),h=function(){var e=Object(r.a)(c.a.mark((function e(){var t,n,a,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")).token,n=null,a=function(e){n=e.data.data},r=function(e){console.log(e)},i={headers:{Authorization:"Bearer ".concat(t)}},e.next=7,p.a.get("/application-forms",i).then(a).catch(r);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("user")).token,a=null,r=function(e){a=e.data.success},i=function(e){console.log(e),a=e.response.data.includes("Application form is already being either approved or rejected.")?"\u0110\u01a1n xin n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c duy\u1ec7t ho\u1eb7c \u0111\xe3 b\u1ecb t\u1eeb ch\u1ed1i!":"Duy\u1ec7t \u0111\u01a1n xin th\u1ea5t b\u1ea1i!"},o={headers:{Authorization:"Bearer ".concat(n)}},e.next=7,p.a.put("/application-forms/"+t+"/approve",[],o).then(r).catch(i);case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("user")).token,a=null,r=function(e){a=e.data.success},i=function(e){console.log(e),a=e.response.data.includes("Application form is already being either approved or rejected.")?"\u0110\u01a1n xin n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c duy\u1ec7t ho\u1eb7c \u0111\xe3 b\u1ecb t\u1eeb ch\u1ed1i!":"Duy\u1ec7t \u0111\u01a1n xin th\u1ea5t b\u1ea1i!"},o={headers:{Authorization:"Bearer ".concat(n)}},e.next=7,p.a.put("/application-forms/"+t+"/reject",[],o).then(r).catch(i);case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=n(17),j=function(e){var t=e.selectedApplicationFormId,n=e.show,a=e.handleClose,l=e.refreshDataFlag,p=e.setRefreshDataFlag,h=Object(o.useState)(null),b=Object(i.a)(h,2),j=b[0],m=b[1],_=Object(u.usePromiseTracker)().promiseInProgress,x=function(){var e=Object(r.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Object(u.trackPromise)(d(t));case 3:!0===(a=e.sent)?(m(Object(f.jsx)(s.a,{color:"success",children:"Duy\u1ec7t \u0111\u01a1n xin th\xe0nh c\xf4ng!"})),p(!l)):m(Object(f.jsx)(s.a,{color:"danger",children:a}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(s.eb,{show:n,onClose:a(),closeOnBackdrop:!1,color:"success",children:Object(f.jsxs)(s.J,{onSubmit:x,method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(f.jsx)(s.hb,{closeButton:!0,children:Object(f.jsxs)(s.ib,{children:["Duy\u1ec7t \u0111\u01a1n xin ( id: ",t," )"]})}),Object(f.jsx)(s.fb,{children:j||"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n duy\u1ec7t \u0111\u01a1n xin n\xe0y ch\u1ee9?"}),Object(f.jsxs)(s.gb,{children:[Object(f.jsx)(s.f,{color:"success",type:"submit",disabled:_,children:"Duy\u1ec7t"}),Object(f.jsx)(s.f,{color:"secondary",onClick:a(),children:"\u0110\xf3ng"})]})]})})},m=function(e){var t=e.selectedApplicationFormId,n=e.show,a=e.handleClose,l=e.refreshDataFlag,p=e.setRefreshDataFlag,h=Object(o.useState)(null),d=Object(i.a)(h,2),j=d[0],m=d[1],_=Object(u.usePromiseTracker)().promiseInProgress,x=function(){var e=Object(r.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Object(u.trackPromise)(b(t));case 3:!0===(a=e.sent)?(m(Object(f.jsx)(s.a,{color:"success",children:"T\u1eeb ch\u1ed1i \u0111\u01a1n xin th\xe0nh c\xf4ng!"})),p(!l)):m(Object(f.jsx)(s.a,{color:"danger",children:a}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(s.eb,{show:n,onClose:a(),closeOnBackdrop:!1,color:"danger",children:Object(f.jsxs)(s.J,{onSubmit:x,method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(f.jsx)(s.hb,{closeButton:!0,children:Object(f.jsxs)(s.ib,{children:["T\u1eeb ch\u1ed1i \u0111\u01a1n xin ( id: ",t," )"]})}),Object(f.jsx)(s.fb,{children:j||"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n t\u1eeb ch\u1ed1i \u0111\u01a1n xin n\xe0y ch\u1ee9?"}),Object(f.jsxs)(s.gb,{children:[Object(f.jsx)(s.f,{color:"danger",type:"submit",disabled:_,children:"T\u1eeb ch\u1ed1i"}),Object(f.jsx)(s.f,{color:"secondary",onClick:a(),children:"\u0110\xf3ng"})]})]})})},_=n(904),x=n.n(_),O=(n(905),n(928)),g=n(657),y=function(e){switch(e){case"Approved":return"success";case"Rejected":return"danger";case"Pending":return"warning";default:return"dark"}},k=function(e){switch(e){case"Approved":return"\u0110\xe3 duy\u1ec7t";case"Rejected":return"\u0110\xe3 t\u1eeb ch\u1ed1i";case"Pending":return"\u0110ang ch\u1edd";default:return"Kh\xf4ng x\xe1c \u0111\u1ecbnh"}},v=[{key:"expert_fullname",label:"H\u1ecd v\xe0 T\xean",_style:{width:"14%"}},{key:"expert_email",label:"Email",_style:{width:"14%"}},{key:"expert_phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",_style:{width:"10%"}},{key:"application_type",label:"Lo\u1ea1i \u0111\u01a1n",_style:{width:"20%"}},{key:"application_form_certificate",label:"Ch\u1ee9ng ch\u1ec9",_style:{width:"14%"}},{key:"application_form_status",label:"Tr\u1ea1ng th\xe1i",_style:{width:"8%"}},{key:"application_form_send_datetime",label:"Th\u1eddi gian n\u1ed9p \u0111\u01a1n",_style:{width:"14%"}},{key:"action",label:"",_style:{width:"6%"}}];t.default=function(){var e=Object(o.useState)(-1),t=Object(i.a)(e,2),n=t[0],a=t[1],p=Object(o.useState)(!1),d=Object(i.a)(p,2),b=d[0],_=d[1],w=Object(o.useState)(!1),S=Object(i.a)(w,2),D=S[0],P=S[1],T=Object(o.useState)(null),C=Object(i.a)(T,2),I=C[0],N=C[1],F=Object(o.useState)(null),A=Object(i.a)(F,2),B=A[0],J=A[1],R=Object(o.useState)(!1),z=Object(i.a)(R,2),K=z[0],H=z[1],V=Object(u.usePromiseTracker)().promiseInProgress,X=function(e){var t=[],n=e.split(",");return null!=n&&""!=n&&n.map((function(e,n){"can_chat"===e&&t.push("Xin nh\u1eadn Phi\xean Nh\u1eafn Tin\n"),"can_join_live_call_session"===e&&t.push("Xin nh\u1eadn Phi\xean G\u1ecdi Tr\u1ef1c Tuy\u1ebfn\n"),"can_join_translation_session"===e&&t.push("Xin nh\u1eadn Ph\xf2ng Phi\xean D\u1ecbch\n")})),t};Object(o.useEffect)(Object(r.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.trackPromise)(h());case 2:t=e.sent,n=[],a={},null!=t&&t.map((function(e){a={expert_fullname:null==e.expert_info.account.fullname||""==e.expert_info.account.fullname?"":e.expert_info.account.fullname,expert_email:e.expert_info.account.email,expert_phone:null==e.expert_info.account.phone_number||""==e.expert_info.account.phone_number?"":e.expert_info.account.phone_number,application_id:e.id,application_type:e.type,application_form_certificate:e.photo_url,application_form_status:e.status,application_form_send_datetime:e.created_at},n.push(a)})),J(n);case 7:case"end":return e.stop()}}),e)}))),[K]);var q=function(){_(!1)},E=function(){P(!1)};if(JSON.parse(localStorage.getItem("userInfo")).moderator_details.can_manage_application_form)return Object(f.jsxs)(s.ub,{children:[Object(f.jsx)(s.u,{children:Object(f.jsxs)(s.j,{children:[Object(f.jsx)(s.n,{children:Object(f.jsx)("h3",{className:"m-0",children:"Danh s\xe1ch H\u1ed3 S\u01a1 \u1ee8ng Vi\xean"})}),Object(f.jsx)(s.k,{className:"pt-0 pb-0",children:Object(f.jsx)(s.y,{addTableClasses:"text-break",items:B,fields:v,striped:!0,bordered:!0,size:"sm",itemsPerPage:5,pagination:!0,loading:V,noItemsView:{noResults:"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 t\xecm ki\u1ebfm tr\xf9ng kh\u1edbp",noItems:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"},tableFilter:{label:"T\xecm ki\u1ebfm:",placeholder:"nh\u1eadp th\xf4ng tin H\u1ed3 S\u01a1 \u1ee8ng Vi\xean c\u1ea7n t\xecm..."},scopedSlots:{application_type:function(e,t){return Object(f.jsx)("td",{className:"text-pre-line",children:null==e.application_type||""==e.application_type?"":X(e.application_type)})},application_form_certificate:function(e,t){return Object(f.jsxs)("td",{children:[Object(f.jsx)("img",{src:e.application_form_certificate,className:"img-thumbnail lightbox-thumbnail-img",width:"120px",height:"90px",onClick:function(e){return function(e){a(e)}(t)}}),n==t?Object(f.jsx)(x.a,{image:e.application_form_certificate,showTitle:!1,onClose:function(e){return a(-1)}}):null]})},application_form_status:function(e){return Object(f.jsx)("td",{children:Object(f.jsx)(s.b,{color:y(e.application_form_status),children:k(e.application_form_status)})})},application_form_send_datetime:function(e,t){return Object(f.jsx)("td",{children:null==e.application_form_send_datetime||""==e.application_form_send_datetime?"":Object(O.a)(Object(g.a)(e.application_form_send_datetime),"dd-MM-yyyy hh:mm:ss")})},action:function(e,t){return Object(f.jsx)("td",{className:"py-1",children:"Pending"==e.application_form_status?Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{type:"button",className:"table-action-button mr-2","data-toggle":"tooltip",title:"Duy\u1ec7t",children:Object(f.jsx)(l.a,{name:"cil-check",onClick:function(){return t=e.application_id,_(!0),void N(t);var t}})}),Object(f.jsx)("button",{type:"button",className:"table-action-button mr-2","data-toggle":"tooltip",title:"Kh\xf4ng duy\u1ec7t",children:Object(f.jsx)(l.a,{name:"cil-x",onClick:function(){return t=e.application_id,P(!0),void N(t);var t}})})]}):null})}}})})]})}),b&&null!=I?Object(f.jsx)(j,{selectedApplicationFormId:I,show:b,handleClose:function(){return q},refreshDataFlag:K,setRefreshDataFlag:H}):null,D&&null!=I?Object(f.jsx)(m,{selectedApplicationFormId:I,show:D,handleClose:function(){return E},refreshDataFlag:K,setRefreshDataFlag:H}):null]});s.a}}}]);
//# sourceMappingURL=42.8813d5b6.chunk.js.map