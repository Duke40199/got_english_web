(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[20],{642:function(e,t,n){"use strict";var r=n(658),a=n.n(r).a.create({baseURL:"https://got-english-backend-production-swiyh5bc4q-de.a.run.app",timeout:1e4});t.a=a},645:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(633),a=n.n(r),c=n(634),s=n(666);n(663),n(664),n(662);s.a.initializeApp({apiKey:"AIzaSyB0l31PMIfIMgDceOjlcOimsHUFSccvzjU",authDomain:"gotenglish-app.firebaseapp.com",projectId:"gotenglish-app",storageBucket:"gotenglish-app.appspot.com",messagingSenderId:"392616753385",appId:"1:392616753385:web:cf70a3478c6f8ea51d5878",measurementId:"G-T0K0LB12VF"});var i=s.a.auth();s.a.analytics();var o=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.signInWithEmailAndPassword(t,n).catch((function(e){console.error("Error signing in with password and email",e)})).then(function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return n=t.user,e.next=4,n.getIdTokenResult(!1);case 4:r=e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.a=s.a},661:function(e,t,n){"use strict";function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var a="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,a,c=0,s=0,i="";a=t.charAt(s++);~a&&(n=c%4?64*n+a:a,c++%4)?i+=String.fromCharCode(255&n>>(-2*c&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return i};function c(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(a(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return a(t)}}function s(e){this.message=e}s.prototype=new Error,s.prototype.name="InvalidTokenError",t.a=function(e,t){if("string"!=typeof e)throw new s("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(c(e.split(".")[n]))}catch(e){throw new s("Invalid token specified: "+e.message)}}},681:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(633),a=n.n(r),c=n(634),s=n(642),i=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={userData:null,errorMessage:null},void 0!=t){e.next=4;break}return n.errorMessage="Xin ki\u1ec3m tra l\u1ea1i th\xf4ng tin \u0111\u0103ng nh\u1eadp.",e.abrupt("return",n);case 4:return r=function(e){n.userData=e.data.data},c=function(e){console.log(e);var t="";null!=e.response?403==e.response.status&&(t="Xin ki\u1ec3m tra l\u1ea1i th\xf4ng tin \u0111\u0103ng nh\u1eadp."):t="\u0110\xe3 c\xf3 m\u1ed9t l\u1ed7i b\u1ea5t th\u01b0\u1eddng x\u1ea3y ra. Xin h\xe3y li\xean h\u1ec7 v\u1edbi Admin \u0111\u1ec3 b\u1ea3o tr\xec h\u1ec7 th\u1ed1ng.",n.errorMessage=t},i={headers:{Authorization:"Bearer ".concat(t.token)}},e.next=9,s.a.post("/login",null,i).then(r).catch(c);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")).token,n=null,r=function(e){n=e.data.data},c=function(e){console.log(e)},i={headers:{Authorization:"Bearer ".concat(t)}},e.next=7,s.a.get("/profile",i).then(r).catch(c);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},920:function(e,t,n){"use strict";n.r(t);var r=n(633),a=n.n(r),c=n(634),s=n(630),i=n(1),o=n(20),u=n(681),l=n(661),p=(n(662),n(627)),h=n(632),d=n(645),b=n(17);t.default=function(){var e=Object(i.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],f=Object(i.useState)(""),j=Object(s.a)(f,2),g=j[0],m=j[1],x=Object(i.useState)(),O=Object(s.a)(x,2),v=(O[0],O[1]),w=Object(i.useState)(),k=Object(s.a)(w,2),y=k[0],I=k[1],S=Object(o.g)(),N=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(d.b)(n,g);case 3:return r=e.sent,e.next=6,Object(u.b)(r);case 6:if(null==(c=e.sent).userData){e.next=22;break}if("Admin"!==(s=Object(l.a)(c.userData.token).claims.role_name)&&"Moderator"!==s){e.next=19;break}return v(c.userData),localStorage.setItem("user",JSON.stringify(c.userData)),e.next=14,Object(u.a)();case 14:i=e.sent,localStorage.setItem("userInfo",JSON.stringify(i)),S.go(0),e.next=20;break;case 19:I("T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp h\u1ec7 th\u1ed1ng n\xe0y!");case 20:e.next=23;break;case 22:I(c.errorMessage);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",children:Object(b.jsx)(p.w,{children:Object(b.jsx)(p.ub,{className:"justify-content-center",children:Object(b.jsx)(p.u,{md:"8",children:Object(b.jsx)(p.j,{children:Object(b.jsx)(p.k,{children:Object(b.jsxs)(p.J,{onSubmit:N,children:[Object(b.jsx)("h1",{children:"\u0110\u0103ng nh\u1eadp"}),Object(b.jsx)("p",{className:"text-muted",children:"Xin h\xe3y \u0111i\u1ec1n th\xf4ng tin t\xe0i kho\u1ea3n"}),Object(b.jsxs)(p.T,{className:"mb-3",children:[Object(b.jsx)(p.V,{children:Object(b.jsx)(p.W,{children:Object(b.jsx)(h.a,{name:"cil-user"})})}),Object(b.jsx)(p.Q,{type:"email",placeholder:"Email",required:!0,onChange:function(e){var t=e.target;return r(t.value)}})]}),Object(b.jsxs)(p.T,{className:"mb-4",children:[Object(b.jsx)(p.V,{children:Object(b.jsx)(p.W,{children:Object(b.jsx)(h.a,{name:"cil-lock-locked"})})}),Object(b.jsx)(p.Q,{type:"password",placeholder:"M\u1eadt kh\u1ea9u",required:!0,onChange:function(e){var t=e.target;return m(t.value)}})]}),null!=y?Object(b.jsx)(p.a,{color:"danger",children:y}):null,Object(b.jsxs)(p.ub,{children:[Object(b.jsx)(p.u,{xs:"6",children:Object(b.jsx)(p.f,{color:"primary",className:"px-4",type:"Submit",children:"\u0110\u0103ng Nh\u1eadp"})}),Object(b.jsx)(p.u,{xs:"6",className:"text-right",children:Object(b.jsx)(p.f,{color:"link",className:"px-0",children:"Qu\xean m\u1eadt kh\u1ea9u?"})})]})]})})})})})})})}}}]);
//# sourceMappingURL=20.f00f1fd6.chunk.js.map