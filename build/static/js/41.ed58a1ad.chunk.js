(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[41],{1015:function(e,t,n){"use strict";n.r(t);var a=n(635),c=n.n(a),r=n(636),i=n(634),s=n(1),o=n(631),l=n(639),u=n(638),h=n(643),p=n(661),d=function(){var e=Object(r.a)(c.a.mark((function e(){var t,n,a,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")).token,n=null,a=function(e){n=e.data.data},r=function(e){console.log(e)},i={headers:{Authorization:"Bearer ".concat(t)}},e.next=7,h.a.get("/application-forms",i).then(a).catch(r);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a,r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("user")).token,a=null,r=function(e){a=e.data.success},i=function(e){a=Object(p.a)(e)},s={headers:{Authorization:"Bearer ".concat(n)}},e.next=7,h.a.put("/application-forms/"+t+"/approve",[],s).then(r).catch(i);case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a,r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("user")).token,a=null,r=function(e){a=e.data.success},i=function(e){a=Object(p.a)(e)},s={headers:{Authorization:"Bearer ".concat(n)}},e.next=7,h.a.put("/application-forms/"+t+"/reject",[],s).then(r).catch(i);case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=n(17),m=function(e){var t=e.selectedApplicationFormId,n=e.show,a=e.handleClose,l=e.refreshDataFlag,h=e.setRefreshDataFlag,p=Object(s.useState)(null),d=Object(i.a)(p,2),b=d[0],m=d[1],_=Object(u.usePromiseTracker)().promiseInProgress,x=function(){var e=Object(r.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Object(u.trackPromise)(f(t));case 3:!0===(a=e.sent)?(m(Object(j.jsx)(o.a,{color:"success",children:"Duy\u1ec7t \u0111\u01a1n xin th\xe0nh c\xf4ng!"})),h(!l)):m(Object(j.jsx)(o.a,{color:"danger",children:a}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(o.eb,{show:n,onClose:a(),closeOnBackdrop:!1,color:"success",children:Object(j.jsxs)(o.J,{onSubmit:x,method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(j.jsx)(o.hb,{closeButton:!0,children:Object(j.jsxs)(o.ib,{children:["Duy\u1ec7t \u0111\u01a1n xin ( id: ",t," )"]})}),Object(j.jsx)(o.fb,{children:b||"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n duy\u1ec7t \u0111\u01a1n xin n\xe0y ch\u1ee9?"}),Object(j.jsxs)(o.gb,{children:[Object(j.jsx)(o.f,{color:"success",type:"submit",disabled:_,children:"Duy\u1ec7t"}),Object(j.jsx)(o.f,{color:"secondary",onClick:a(),children:"\u0110\xf3ng"})]})]})})},_=function(e){var t=e.selectedApplicationFormId,n=e.show,a=e.handleClose,l=e.refreshDataFlag,h=e.setRefreshDataFlag,p=Object(s.useState)(null),d=Object(i.a)(p,2),f=d[0],m=d[1],_=Object(u.usePromiseTracker)().promiseInProgress,x=function(){var e=Object(r.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Object(u.trackPromise)(b(t));case 3:!0===(a=e.sent)?(m(Object(j.jsx)(o.a,{color:"success",children:"T\u1eeb ch\u1ed1i \u0111\u01a1n xin th\xe0nh c\xf4ng!"})),h(!l)):m(Object(j.jsx)(o.a,{color:"danger",children:a}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(o.eb,{show:n,onClose:a(),closeOnBackdrop:!1,color:"danger",children:Object(j.jsxs)(o.J,{onSubmit:x,method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(j.jsx)(o.hb,{closeButton:!0,children:Object(j.jsxs)(o.ib,{children:["T\u1eeb ch\u1ed1i \u0111\u01a1n xin ( id: ",t," )"]})}),Object(j.jsx)(o.fb,{children:f||"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n t\u1eeb ch\u1ed1i \u0111\u01a1n xin n\xe0y ch\u1ee9?"}),Object(j.jsxs)(o.gb,{children:[Object(j.jsx)(o.f,{color:"danger",type:"submit",disabled:_,children:"T\u1eeb ch\u1ed1i"}),Object(j.jsx)(o.f,{color:"secondary",onClick:a(),children:"\u0110\xf3ng"})]})]})})},x=n(1005),O=n.n(x),g=(n(1006),n(1029)),y=n(806),k=function(e){switch(e){case"Approved":return"success";case"Rejected":return"danger";case"Pending":return"warning";default:return"dark"}},v=function(e){switch(e){case"Approved":return"\u0110\xe3 duy\u1ec7t";case"Rejected":return"\u0110\xe3 t\u1eeb ch\u1ed1i";case"Pending":return"\u0110ang ch\u1edd";default:return"Kh\xf4ng x\xe1c \u0111\u1ecbnh"}},w=[{key:"expert_fullname",label:"H\u1ecd v\xe0 T\xean",_style:{width:"14%"}},{key:"expert_email",label:"Email",_style:{width:"14%"}},{key:"expert_phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",_style:{width:"10%"}},{key:"application_type",label:"Lo\u1ea1i \u0111\u01a1n",_style:{width:"20%"}},{key:"application_form_certificate",label:"Ch\u1ee9ng ch\u1ec9",_style:{width:"14%"}},{key:"application_form_status",label:"Tr\u1ea1ng th\xe1i",_style:{width:"8%"}},{key:"application_form_send_datetime",label:"Th\u1eddi gian n\u1ed9p \u0111\u01a1n",_style:{width:"14%"}},{key:"action",label:"",_style:{width:"6%"}}];t.default=function(){var e=Object(s.useState)(-1),t=Object(i.a)(e,2),n=t[0],a=t[1],h=Object(s.useState)(!1),p=Object(i.a)(h,2),f=p[0],b=p[1],x=Object(s.useState)(!1),T=Object(i.a)(x,2),S=T[0],P=T[1],C=Object(s.useState)(null),D=Object(i.a)(C,2),A=D[0],I=D[1],N=Object(s.useState)(null),F=Object(i.a)(N,2),B=F[0],J=F[1],R=Object(s.useState)(!1),z=Object(i.a)(R,2),E=z[0],K=z[1],q=Object(u.usePromiseTracker)().promiseInProgress,H=function(e){var t=[],n=e.split(",");return null!=n&&""!==n&&n.forEach((function(e){"can_chat"===e&&t.push("Xin nh\u1eadn Phi\xean Nh\u1eafn Tin\n"),"can_join_live_call_session"===e&&t.push("Xin nh\u1eadn Phi\xean G\u1ecdi Tr\u1ef1c Tuy\u1ebfn\n"),"can_join_translation_session"===e&&t.push("Xin nh\u1eadn Ph\xf2ng Phi\xean D\u1ecbch\n")})),t};Object(s.useEffect)((function(){function e(){return(e=Object(r.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.trackPromise)(d());case 2:t=e.sent,n=[],a={},null!=t&&t.forEach((function(e){a={expert_fullname:null==e.expert_info.account.fullname||""===e.expert_info.account.fullname?"":e.expert_info.account.fullname,expert_email:e.expert_info.account.email,expert_phone:null==e.expert_info.account.phone_number||""===e.expert_info.account.phone_number?"":e.expert_info.account.phone_number,application_id:e.id,application_type:e.type,application_form_certificate:e.photo_url,application_form_status:e.status,application_form_send_datetime:e.created_at},n.push(a)})),J(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[E]);var V=function(){b(!1)},X=function(){P(!1)};if(JSON.parse(localStorage.getItem("userInfo")).moderator_details.can_manage_application_form)return Object(j.jsxs)(o.ub,{children:[Object(j.jsx)(o.u,{children:Object(j.jsxs)(o.j,{children:[Object(j.jsx)(o.n,{children:Object(j.jsx)("h3",{className:"m-0",children:"Danh s\xe1ch H\u1ed3 S\u01a1 \u1ee8ng Vi\xean"})}),Object(j.jsx)(o.k,{className:"pt-0 pb-0",children:Object(j.jsx)(o.y,{addTableClasses:"text-break",items:B,fields:w,striped:!0,bordered:!0,size:"sm",itemsPerPage:5,pagination:!0,loading:q,noItemsView:{noResults:"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 t\xecm ki\u1ebfm tr\xf9ng kh\u1edbp",noItems:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"},tableFilter:{label:"T\xecm ki\u1ebfm:",placeholder:"nh\u1eadp th\xf4ng tin H\u1ed3 S\u01a1 \u1ee8ng Vi\xean c\u1ea7n t\xecm..."},scopedSlots:{application_type:function(e,t){return Object(j.jsx)("td",{className:"text-pre-line",children:null==e.application_type||""===e.application_type?"":H(e.application_type)})},application_form_certificate:function(e,t){return Object(j.jsxs)("td",{children:[Object(j.jsx)("img",{src:e.application_form_certificate,alt:"Certificate",className:"img-thumbnail lightbox-thumbnail-img",width:"120px",height:"90px",onClick:function(e){return function(e){a(e)}(t)}}),n===t?Object(j.jsx)(O.a,{image:e.application_form_certificate,showTitle:!1,onClose:function(e){return a(-1)}}):null]})},application_form_status:function(e){return Object(j.jsx)("td",{children:Object(j.jsx)(o.b,{color:k(e.application_form_status),children:v(e.application_form_status)})})},application_form_send_datetime:function(e,t){return Object(j.jsx)("td",{children:null==e.application_form_send_datetime||""===e.application_form_send_datetime?"":Object(g.a)(Object(y.a)(e.application_form_send_datetime),"dd-MM-yyyy hh:mm:ss")})},action:function(e,t){return Object(j.jsx)("td",{className:"py-1",children:"Pending"===e.application_form_status?Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{type:"button",className:"table-action-button mr-2","data-toggle":"tooltip",title:"Duy\u1ec7t",children:Object(j.jsx)(l.a,{name:"cil-check",onClick:function(){return t=e.application_id,b(!0),void I(t);var t}})}),Object(j.jsx)("button",{type:"button",className:"table-action-button mr-2","data-toggle":"tooltip",title:"Kh\xf4ng duy\u1ec7t",children:Object(j.jsx)(l.a,{name:"cil-x",onClick:function(){return t=e.application_id,P(!0),void I(t);var t}})})]}):null})}}})})]})}),f&&null!=A?Object(j.jsx)(m,{selectedApplicationFormId:A,show:f,handleClose:function(){return V},refreshDataFlag:E,setRefreshDataFlag:K}):null,S&&null!=A?Object(j.jsx)(_,{selectedApplicationFormId:A,show:S,handleClose:function(){return X},refreshDataFlag:E,setRefreshDataFlag:K}):null]});o.a}},643:function(e,t,n){"use strict";var a=n(695),c=n.n(a).a.create({baseURL:"https://got-english-backend-production-swiyh5bc4q-de.a.run.app",timeout:1e4});t.a=c},661:function(e,t,n){"use strict";t.a=function(e){var t="";if(null!=e&&null!=e.response&&null!=e.response.data){var n=e.response.data;t=n.includes("Account is already suspended.")?"T\xe0i kho\u1ea3n n\xe0y \u0111\xe3 b\u1ecb kh\xf3a!":n.includes("account unavailable")?"Email \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng!":n.includes("'username'")?"T\xean t\xe0i kho\u1ea3n \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng!":n.includes("Account is currently in a messaging session")?"T\xe0i kho\u1ea3n n\xe0y hi\u1ec7n \u0111ang s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 Phi\xean nh\u1eafn tin! Ch\u01b0a th\u1ec3 kh\xf3a...":n.includes("Account is currently in a live call session")?"T\xe0i kho\u1ea3n n\xe0y hi\u1ec7n \u0111ang s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 Phi\xean g\u1ecdi tr\u1ef1c tuy\u1ebfn! Ch\u01b0a th\u1ec3 kh\xf3a...":n.includes("Account is currently in a translation session")?"T\xe0i kho\u1ea3n n\xe0y hi\u1ec7n \u0111ang s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 Ph\xf2ng phi\xean d\u1ecbch! Ch\u01b0a th\u1ec3 kh\xf3a...":n.includes("Account is not yet suspended.")?"T\xe0i kho\u1ea3n n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c m\u1edf kh\xf3a!":n.includes("You don't have permission")?"T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n \u0111\u1ec3 th\u1ef1c hi\u1ec7n thao t\xe1c n\xe0y!":"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!"}return t}}}]);
//# sourceMappingURL=41.ed58a1ad.chunk.js.map