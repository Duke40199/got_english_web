(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[21],{642:function(e,t,n){"use strict";var a=n(694),r=n.n(a).a.create({baseURL:"https://got-english-backend-production-swiyh5bc4q-de.a.run.app",timeout:1e4});t.a=r},658:function(e,t,n){"use strict";t.a=function(e){var t="";if(null!=e&&null!=e.response&&null!=e.response.data){var n=e.response.data;t=n.includes("Account is already suspended.")?"T\xe0i kho\u1ea3n n\xe0y \u0111\xe3 b\u1ecb kh\xf3a!":n.includes("account unavailable")?"Email \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng!":n.includes("'username'")?"T\xean t\xe0i kho\u1ea3n \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng!":n.includes("Account is currently in a messaging session")?"T\xe0i kho\u1ea3n n\xe0y hi\u1ec7n \u0111ang s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 Phi\xean nh\u1eafn tin! Ch\u01b0a th\u1ec3 kh\xf3a...":n.includes("Account is currently in a live call session")?"T\xe0i kho\u1ea3n n\xe0y hi\u1ec7n \u0111ang s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 Phi\xean g\u1ecdi tr\u1ef1c tuy\u1ebfn! Ch\u01b0a th\u1ec3 kh\xf3a...":n.includes("Account is currently in a translation session")?"T\xe0i kho\u1ea3n n\xe0y hi\u1ec7n \u0111ang s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 Ph\xf2ng phi\xean d\u1ecbch! Ch\u01b0a th\u1ec3 kh\xf3a...":n.includes("Account is not yet suspended.")?"T\xe0i kho\u1ea3n n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c m\u1edf kh\xf3a!":n.includes("You don't have permission")?"T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n \u0111\u1ec3 th\u1ef1c hi\u1ec7n thao t\xe1c n\xe0y!":"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!"}return t}},802:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(689),r=n(645),c=36e5,i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},s=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function o(e,t){Object(r.a)(1,arguments);var n=t||{},c=null==n.additionalDigits?2:Object(a.a)(n.additionalDigits);if(2!==c&&1!==c&&0!==c)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,s=h(e);if(s.date){var u=d(s.date,c);i=p(u.restDateString,u.year)}if(isNaN(i)||!i)return new Date(NaN);var l,o=i.getTime(),j=0;if(s.time&&(j=b(s.time),isNaN(j)||null===j))return new Date(NaN);if(!s.timezone){var m=new Date(o+j),g=new Date(0);return g.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),g.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),g}return l=f(s.timezone),isNaN(l)?new Date(NaN):new Date(o+j+l)}function h(e){var t,n={},a=e.split(i.dateTimeDelimiter);if(a.length>2)return n;if(/:/.test(a[0])?(n.date=null,t=a[0]):(n.date=a[0],t=a[1],i.timeZoneDelimiter.test(n.date)&&(n.date=e.split(i.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var r=i.timezone.exec(t);r?(n.time=t.replace(r[1],""),n.timezone=r[1]):n.time=t}return n}function d(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:null};var r=a[1]&&parseInt(a[1]),c=a[2]&&parseInt(a[2]);return{year:null==c?r:100*c,restDateString:e.slice((a[1]||a[2]).length)}}function p(e,t){if(null===t)return null;var n=e.match(s);if(!n)return null;var a=!!n[4],r=j(n[1]),c=j(n[2])-1,i=j(n[3]),u=j(n[4]),l=j(n[5])-1;if(a)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,u,l)?function(e,t,n){var a=new Date(0);a.setUTCFullYear(e,0,4);var r=a.getUTCDay()||7,c=7*(t-1)+n+1-r;return a.setUTCDate(a.getUTCDate()+c),a}(t,u,l):new Date(NaN);var o=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(g[t]||(O(e)?29:28))}(t,c,i)&&function(e,t){return t>=1&&t<=(O(e)?366:365)}(t,r)?(o.setUTCFullYear(t,c,Math.max(r,i)),o):new Date(NaN)}function j(e){return e?parseInt(e):1}function b(e){var t=e.match(u);if(!t)return null;var n=m(t[1]),a=m(t[2]),r=m(t[3]);return function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,a,r)?n*c+6e4*a+1e3*r:NaN}function m(e){return e&&parseFloat(e.replace(",","."))||0}function f(e){if("Z"===e)return 0;var t=e.match(l);if(!t)return 0;var n="+"===t[1]?-1:1,a=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,r)?n*(a*c+6e4*r):NaN}var g=[31,null,31,30,31,30,31,31,30,31,30,31];function O(e){return e%400===0||e%4===0&&e%100}},984:function(e,t,n){"use strict";n.r(t);var a=n(633),r=n.n(a),c=n(634),i=n(637),s=n(1),u=n(635),l=n(644),o=n(642),h=n(658),d=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")).token,n=null,a=function(e){n=e.data.data},c=function(e){console.log(e)},i={headers:{Authorization:"Bearer ".concat(t)}},e.next=7,o.a.get("/exchange-rates",i).then(a).catch(c);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("user")).token,a=null,c=function(e){a=e.data.data[0]},i=function(e){console.log(e)},s={headers:{Authorization:"Bearer ".concat(n)}},e.next=7,o.a.get("/exchange-rates?id="+t,s).then(c).catch(i);case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,i,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("user")).token,c=null,i=function(e){c=e.data.success},s=function(e){c=Object(h.a)(e)},u={headers:{Authorization:"Bearer ".concat(a)}},e.next=7,o.a.put("/exchange-rates/"+t+"/update",n,u).then(i).catch(s);case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=n(636),m=n(800),f=function(e){var t={};if(null!=e.rate){var n=e.rate.toString(),a=parseFloat(e.rate);Object(m.isEmpty)(n)?t.rate="T\u1ec9 l\u1ec7 Chi\u1ebft Kh\u1ea5u l\xe0 b\u1eaft bu\u1ed9c!":Object(m.isDecimal)(n)&&Object(m.isNumeric)(n)?a<0||a>1?t.rate="T\u1ec9 l\u1ec7 Chi\u1ebft Kh\u1ea5u ch\u1ec9 nh\u1eadn gi\xe1 tr\u1ecb l\u1edbn h\u01a1n 0 v\xe0 nh\u1ecf h\u01a1n 1!":n.length>4&&(t.rate="T\u1ec9 l\u1ec7 Chi\u1ebft Kh\u1ea5u ch\u1ec9 nh\u1eadn \u0111\u1ebfn gi\xe1 tr\u1ecb th\u1eadp ph\xe2n th\u1ee9 hai!"):t.rate="T\u1ec9 l\u1ec7 Chi\u1ebft Kh\u1ea5u ch\u1ec9 nh\u1eadn gi\xe1 tr\u1ecb s\u1ed1 th\u1eadp ph\xe2n!"}return t},g=n(17),O=function(e){var t=e.selectedExchangeRateId,n=e.show,a=e.handleClose,l=e.refreshDataFlag,o=e.setRefreshDataFlag,h=Object(s.useState)(""),d=Object(i.a)(h,2),m=d[0],O=d[1],x=Object(s.useState)(""),v=Object(i.a)(x,2),y=v[0],k=v[1],w=Object(s.useState)(""),N=Object(i.a)(w,2),C=N[0],T=N[1],D=Object(s.useState)({}),S=Object(i.a)(D,2),_=S[0],P=S[1],I=Object(s.useState)(null),K=Object(i.a)(I,2),F=K[0],U=K[1],z=Object(b.usePromiseTracker)().promiseInProgress;Object(s.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=5;break}return e.next=3,Object(b.trackPromise)(p(t));case 3:null!=(n=e.sent)&&(O(n.id),k(n.service_name),T(n.rate));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var A,E=function(){var e=Object(c.a)(r.a.mark((function e(n){var a,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=f({rate:C}),!(0===Object.keys(a).length)){e.next=13;break}return c={rate:parseFloat(C)},e.next=8,Object(b.trackPromise)(j(t,c));case 8:!0===(i=e.sent)?(U(Object(g.jsx)(u.a,{color:"success",children:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"})),o(!l)):U(Object(g.jsx)(u.a,{color:"danger",children:i})),P({}),e.next=15;break;case 13:P(a),U(null);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(u.J,{show:n,onClose:a(),closeOnBackdrop:!1,color:"success",children:Object(g.jsxs)(u.u,{onSubmit:E,method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(g.jsx)(u.M,{closeButton:!0,children:Object(g.jsx)(u.N,{children:"C\u1eadp nh\u1eadt Chi\u1ebft Kh\u1ea5u"})}),Object(g.jsxs)(u.K,{children:[Object(g.jsxs)(u.v,{row:!0,children:[Object(g.jsx)(u.k,{md:"4",children:Object(g.jsx)(u.H,{htmlFor:"exchange-rate-id-input",children:"ID:"})}),Object(g.jsx)(u.k,{xs:"12",md:"8",children:Object(g.jsx)("p",{name:"exchange-rate-id-static",children:m})})]}),Object(g.jsxs)(u.v,{row:!0,children:[Object(g.jsx)(u.k,{md:"4",children:Object(g.jsx)(u.H,{htmlFor:"update-exchange-rate-service-name-input",children:"T\xean d\u1ecbch v\u1ee5 Chi\u1ebft Kh\u1ea5u:"})}),Object(g.jsx)(u.k,{xs:"12",md:"8",children:Object(g.jsx)(u.A,{type:"text",id:"update-exchange-rate-service-name-input",min:"0",name:"service-name",value:(A=y,A.includes("messaging_session")?"Phi\xean nh\u1eafn tin":A.includes("live_call_session")?"Phi\xean g\u1ecdi tr\u1ef1c tuy\u1ebfn":A.includes("translation_session")?"Ph\xf2ng phi\xean d\u1ecbch tr\u1ef1c tuy\u1ebfn":"Kh\xf4ng x\xe1c \u0111\u1ecbnh"),readOnly:!0})})]}),Object(g.jsxs)(u.v,{row:!0,children:[Object(g.jsx)(u.k,{md:"4",children:Object(g.jsx)(u.H,{className:"required",htmlFor:"update-exchange-rate-rate-input",children:"T\u1ec9 l\u1ec7 Chi\u1ebft Kh\u1ea5u:"})}),Object(g.jsx)(u.k,{xs:"12",md:"8",children:Object(g.jsxs)(u.O,{className:"m-0 align-items-center",children:[Object(g.jsx)(u.A,{type:"number",className:"w-25 mr-2",id:"update-exchange-rate-rate-input",name:"quantity",value:C,onChange:function(e){var t=e.target;return T(t.value)},required:!0}),null!=_.rate?Object(g.jsx)(u.G,{className:"d-block",children:_.rate}):null]})})]}),F]}),Object(g.jsxs)(u.L,{children:[Object(g.jsx)(u.f,{color:"success",type:"submit",disabled:z,children:"C\u1eadp nh\u1eadt"}),Object(g.jsx)(u.f,{color:"secondary",onClick:a(),children:"\u0110\xf3ng"})]})]})})},x=n(975),v=n(802),y=[{key:"service_name",label:"T\xean d\u1ecbch v\u1ee5 Chi\u1ebft Kh\u1ea5u",_style:{width:"35%"}},{key:"rate",label:"T\u1ec9 l\u1ec7 Chi\u1ebft Kh\u1ea5u",_style:{width:"20%"}},{key:"updated_at",label:"Th\u1eddi gian l\u1ea7n cu\u1ed1i c\u1eadp nh\u1eadt",_style:{width:"40%"}},{key:"action",label:"",_style:{width:"5%"}}];t.default=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(s.useState)(null),h=Object(i.a)(o,2),p=h[0],j=h[1],m=Object(s.useState)(null),f=Object(i.a)(m,2),k=f[0],w=f[1],N=Object(s.useState)(!1),C=Object(i.a)(N,2),T=C[0],D=C[1],S=Object(b.usePromiseTracker)().promiseInProgress;Object(s.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.trackPromise)(d());case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[T]);var _=function(){a(!1)};if(JSON.parse(localStorage.getItem("userInfo")).moderator_details.can_manage_exchange_rate)return Object(g.jsxs)(u.O,{children:[Object(g.jsx)(u.k,{children:Object(g.jsxs)(u.g,{children:[Object(g.jsx)(u.j,{children:Object(g.jsx)("h3",{className:"m-0",children:"Danh s\xe1ch Chi\u1ebft Kh\u1ea5u:"})}),Object(g.jsx)(u.h,{className:"pt-0 pb-0",children:Object(g.jsx)(u.n,{addTableClasses:"text-break",items:p,fields:y,hover:!0,striped:!0,bordered:!0,size:"sm",itemsPerPage:20,pagination:!0,loading:S,noItemsView:{noResults:"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 t\xecm ki\u1ebfm tr\xf9ng kh\u1edbp",noItems:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"},scopedSlots:{service_name:function(e,t){return Object(g.jsx)("td",{children:(n=e.service_name,n.includes("messaging_session")?"Phi\xean nh\u1eafn tin":n.includes("live_call_session")?"Phi\xean g\u1ecdi tr\u1ef1c tuy\u1ebfn":n.includes("translation_session")?"Ph\xf2ng phi\xean d\u1ecbch tr\u1ef1c tuy\u1ebfn":"Kh\xf4ng x\xe1c \u0111\u1ecbnh")});var n},updated_at:function(e,t){return Object(g.jsx)("td",{children:null==e.updated_at||""===e.updated_at?"":Object(x.a)(Object(v.a)(e.updated_at),"dd-MM-yyyy hh:mm:ss")})},action:function(e,t){return Object(g.jsx)("td",{className:"py-1",children:Object(g.jsx)("button",{type:"button",className:"table-action-button mr-2","data-toggle":"tooltip",title:"C\u1eadp nh\u1eadt",children:Object(g.jsx)(l.a,{name:"cil-pencil",onClick:function(){return t=e.id,a(!0),void w(t);var t}})})})}}})})]})}),n&&null!=k?Object(g.jsx)(O,{selectedExchangeRateId:k,show:n,handleClose:function(){return _},refreshDataFlag:T,setRefreshDataFlag:D}):null]});u.a}}}]);
//# sourceMappingURL=21.1d99db87.chunk.js.map